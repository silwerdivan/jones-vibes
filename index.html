<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Jones in the Fastlane</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;800&family=Press+Start+2P&family=VT323&family=Orbitron:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="app-shell">
        <div class="news-ticker glass">
            <div class="ticker-content" id="news-ticker-content">
                Welcome to Jones in the Fastlane! | Build wealth, education and happiness! | Visit the Employment Agency to find work.
            </div>
        </div>

        <main class="content-area">
            <!-- Screens will be dynamically inserted here by ScreenManager -->
        </main>

        <!-- START: Location Dashboard (Repurposed Choice Modal) -->
        <div id="choice-modal-overlay" class="hidden location-dashboard-overlay">
            <div id="choice-modal" class="location-dashboard">
                <!-- Swipe Indicator for Mobile -->
                <div class="swipe-indicator"><div class="swipe-bar"></div></div>
                
                <header class="dashboard-header">
                    <div id="modal-clerk-container" class="clerk-container hidden">
                        <div class="clerk-avatar-wrapper">
                            <div id="modal-clerk-avatar" class="clerk-avatar"></div>
                        </div>
                        <div class="speech-bubble">
                            <div id="modal-clerk-name" class="clerk-name">Clerk</div>
                            <p id="modal-clerk-message" class="clerk-message">Welcome!</p>
                        </div>
                    </div>
                    <h2 id="choice-modal-title" class="dashboard-title">Location Name</h2>
                </header>

                <main class="dashboard-content">
                    <div id="choice-modal-content" class="dashboard-scroll-area">
                        <!-- Action Cards go here -->
                    </div>
                    
                    <!-- Contextual Input (e.g., Bank amount) -->
                    <div id="choice-modal-input" class="hidden bank-input-wrapper">
                        <label for="modal-input-amount">CREDITS</label>
                        <input type="number" id="modal-input-amount" placeholder="0">
                    </div>

                    <div id="dashboard-secondary-actions" class="secondary-actions-row">
                        <!-- Contextual secondary actions (e.g. Work Shift) -->
                    </div>
                </main>

                <footer class="dashboard-footer">
                    <div id="choice-modal-buttons" class="primary-actions-row">
                        <!-- Primary Action Buttons -->
                    </div>

                    <button id="modal-cancel-button" class="btn btn-leave">
                        <i class="material-icons">logout</i>
                        <span>Leave Location</span>
                    </button>
                </footer>
            </div>
        </div>
        <!-- END: Location Dashboard -->

        <!-- START: Player Stats Modal Structure -->
        <div id="player-stats-modal-overlay" class="hidden">
            <div id="player-stats-modal">
                <div class="player-stats-modal-header">
                    <h2 id="player-stats-modal-title">Player Stats</h2>
                    <button id="player-stats-modal-close" class="btn btn-icon btn-secondary modal-close-btn"><i class="material-icons">close</i></button>
                </div>
                <div class="swipe-indicator">
                    <div class="swipe-bar"></div>
                </div>
                <div class="player-stats-modal-content">
                    <div class="player-stats-grid">
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üí∞</span>
                            <span class="player-stat-label">Cash:</span>
                            <span id="modal-cash" class="player-stat-value">$0</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üè¶</span>
                            <span class="player-stat-label">Savings:</span>
                            <span id="modal-savings" class="player-stat-value">$0</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üí∏</span>
                            <span class="player-stat-label">Loan:</span>
                            <span id="modal-loan" class="player-stat-value">$0</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üòä</span>
                            <span class="player-stat-label">Happiness:</span>
                            <span id="modal-happiness" class="player-stat-value">0</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üéì</span>
                            <span class="player-stat-label">Education:</span>
                            <span id="modal-education" class="player-stat-value">None</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üíº</span>
                            <span class="player-stat-label">Career:</span>
                            <span id="modal-career" class="player-stat-value">Unemployed</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">üöó</span>
                            <span class="player-stat-label">Car:</span>
                            <span id="modal-car" class="player-stat-value">No</span>
                        </div>
                        <div class="player-stat-item">
                            <span class="player-stat-icon">‚è∞</span>
                            <span class="player-stat-label">Time Remaining:</span>
                            <span id="modal-time" class="player-stat-value">0 hours</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END: Player Stats Modal Structure -->

        <!-- START: Intel Terminal Structure -->
        <div id="intel-terminal-overlay" class="hidden">
            <div id="intel-terminal" class="terminal-window">
                <div class="scanlines"></div>
                <div class="terminal-header">
                    <div class="terminal-title"><i class="material-icons">terminal</i> INTEL_FEED_v4.2</div>
                    <button id="intel-terminal-close" class="btn btn-icon btn-secondary terminal-close-btn"><i class="material-icons">close</i></button>
                </div>
                <div class="terminal-content">
                    <div id="terminal-entries" class="terminal-text"></div>
                </div>
            </div>
        </div>
        <!-- END: Intel Terminal Structure -->

        <!-- START: Turn Summary Modal -->
        <section id="turn-summary-modal" class="modal-overlay hidden">
            <div class="summary-container glass">
                <header class="summary-header">
                    <h1 class="neon-text-magenta">OH WHAT A WEEKEND!</h1>
                    <p id="summary-subtitle" class="summary-subtitle">WEEK 1 REPORT</p>
                </header>
                <div id="event-list" class="event-list">
                    <!-- Event cards injected here -->
                </div>
                <footer class="summary-footer">
                    <div class="net-impact">
                        <div class="impact-item">
                            <span class="impact-label">NET CASHFLOW</span>
                            <span id="summary-cash-total" class="total-value">$0</span>
                        </div>
                        <div class="impact-item">
                            <span class="impact-label">HAPPINESS</span>
                            <span id="summary-happiness-total" class="total-value">0</span>
                        </div>
                    </div>
                    <button id="btn-start-next-week" class="btn-neon-cyan">START NEXT WEEK ‚Üí</button>
                </footer>
            </div>
        </section>
        <!-- END: Turn Summary Modal -->

        <!-- START: Graduation Modal -->
        <section id="graduation-modal" class="modal-overlay hidden">
            <div class="graduation-container glass">
                <div class="graduation-glow"></div>
                <header class="graduation-header">
                    <div class="graduation-icon">üéì</div>
                    <h1 class="neon-text-cyan animate-pulse">CONGRATULATIONS!</h1>
                    <p id="graduation-subtitle" class="graduation-subtitle">YOU HAVE GRADUATED</p>
                </header>
                <main class="graduation-content">
                    <div class="degree-display">
                        <span id="graduated-degree-name" class="degree-name">Associate's Degree</span>
                    </div>
                    <p id="graduation-reward-text" class="reward-text">Level 2 Careers are now unlocked at the Employment Agency.</p>
                </main>
                <footer class="graduation-footer">
                    <button id="btn-graduation-dismiss" class="btn btn-primary btn-glow">EXCELLENT!</button>
                </footer>
            </div>
        </section>
        <!-- END: Graduation Modal -->

        <!-- START: Loading Overlay -->
        <div id="loading-overlay" class="hidden">
          <div class="spinner"></div>
          <p class="loading-text">AI is thinking...</p>
        </div>
        <!-- END: Loading Overlay -->

    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
